#+title: Notes Configuration
#+author: Vladimir Kosteley
#+description: Org mode and note-taking configuration
#+startup: showeverything

* Table of Contents :toc:
- [[#denote][Denote]]
- [[#markdown][Markdown]]
- [[#org-mode][Org Mode]]
  - [[#export-to-markdown][Export to Markdown]]
  - [[#modern-org-style][Modern Org Style]]
  - [[#org-appear][Org Appear]]
  - [[#org-modern-indent][Org Modern Indent]]
  - [[#table-of-contents][Table of Contents]]

* Denote
https://github.com/protesilaos/denote

#+begin_src emacs-lisp
(use-package denote
  :ensure t
  :hook (dired-mode . denote-dired-mode)
  :config
  (setq denote-date-prompt-use-org-read-date t)
  (setq denote-directory (expand-file-name "~/Nextcloud/Notes/"))
  (setq denote-infer-keywords t)
  (setq denote-known-keywords '("it" "people" "private"))
  (denote-rename-buffer-mode 1))
#+end_src

* Markdown
https://github.com/jrblevin/markdown-mode

#+begin_src emacs-lisp
(use-package markdown-mode
  :ensure t
  :custom
  (markdown-fontify-code-blocks-natively t)
  (markdown-header-scaling t)
  (markdown-hide-markup t)
  (markdown-italic-underscore t)
  (markdown-list-indent-width 2))
#+end_src

*** Grip
https://github.com/seagle0128/grip-mode

#+begin_src emacs-lisp
(use-package grip-mode
  :ensure t
  :bind (:map markdown-mode-command-map
              ("g" . grip-mode)))
#+end_src

* Org Mode
#+begin_src emacs-lisp
(add-hook 'org-mode-hook #'org-indent-mode)

(require 'org-tempo)

(setq org-agenda-files (list (expand-file-name "~/Nextcloud/Notes/"))
      org-agenda-tags-column 0
      org-auto-align-tags nil
      org-complete-tags-always-offer-all-agenda-tags t
      org-directory (expand-file-name "~/Nextcloud/Notes/")
      org-edit-src-content-indentation 0
      org-ellipsis "…"
      org-fold-catch-invisible-edits 'smart
      org-fontify-quote-and-verse-blocks t
      org-hide-emphasis-markers t
      org-insert-heading-respect-content t
      org-link-descriptive t
      org-pretty-entities t
      org-special-ctrl-a/e t
      org-src-fontify-natively t
      org-src-tab-acts-natively t
      org-tags-column 0
      org-todo-keywords '((sequence "TODO(t)" "IN-PROGRESS(i)" "WAIT(w)" "HOLD(h)" "|" "DONE(d)" "CANCELLED(c)"))
      org-use-sub-superscripts '{})

(setf (alist-get 'file org-link-frame-setup) #'find-file)
#+end_src

** Export to Markdown
https://github.com/larstvei/ox-gfm

#+begin_src emacs-lisp
(use-package ox-gfm
  :ensure t
  :after org)
#+end_src

** Modern Org Style
https://github.com/minad/org-modern

#+begin_src emacs-lisp
(use-package org-modern
  :ensure t
  :custom
  (org-modern-hide-stars nil)
  (org-modern-list '((?- . "•") (?+ . "‣") (?* . "◦")))
  (org-modern-star '("◉" "○" "◈" "◇" "✦"))
  (org-modern-table nil)
  :config
  (global-org-modern-mode))
#+end_src

** Org Appear
https://github.com/awth13/org-appear

Make invisible parts of Org elements appear visible.

#+begin_src emacs-lisp
(use-package org-appear
  :ensure t
  :hook (org-mode . org-appear-mode)
  :custom
  (org-appear-autoemphasis t)
  (org-appear-autoentities t)
  (org-appear-autosubmarkers t)
  (org-appear-autolinks t)
  (org-appear-autokeywords t)
  (org-appear-trigger 'on-change))
#+end_src

** Org Modern Indent
https://github.com/jdtsmith/org-modern-indent

#+begin_src emacs-lisp
(use-package org-modern-indent
  :ensure (:host github :repo "jdtsmith/org-modern-indent")
  :config
  (add-hook 'org-mode-hook #'org-modern-indent-mode 90))
#+end_src

** Table of Contents
#+begin_src emacs-lisp
(use-package toc-org
  :ensure t
  :commands toc-org-enable
  :hook (org-mode . toc-org-enable))
#+end_src
